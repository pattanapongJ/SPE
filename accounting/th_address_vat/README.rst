=======================================
Thai address completion by Tax ID (VAT)
=======================================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Alpha-red.png
    :target: https://odoo-community.org/page/development-status
    :alt: Alpha
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-poonlap%2Fodoo--th-lightgray.png?logo=github
    :target: https://github.com/poonlap/odoo-th/tree/14.0/th_address_vat
    :alt: poonlap/odoo-th

|badge1| |badge2| |badge3| 

โมดูลนี้ใช้สำหรับกรอกที่อยู่ของลูกค้าอัตโนมัติ จากเลขประจำตัวผู้เสียภาษี (VAT 13 หลัก). 
โดยจะใช้เลขประจำตัวผู้เสียภาษี นำไปหาที่อยู่มาให้จาก `web service ของกรมสรรพากร <http://www.rd.go.th/publish/42546.0.html>`_. 
หากเลขประจำตัวผู้เสียภาษีหรือเลขที่สาขาไม่ถูกต้อง โมดูลนี้จะแจ้งให้ผู้ใช้ทราบ

ลองใช้งาน th_address_vat จาก docker image
-----------------------------------------
โมดูลนี้รวมไว้ใน `docker odoo-th <https://github.com/poonlap/odoo-th>`_ แล้ว สามารถลองใช้ได้ทันที.::

    $ git clone https://github.com/poonlap/odoo-th.git
    $ cd odoo-th/docker
    $ docker-compose up

.. IMPORTANT::
   This is an alpha version, the data model and design can change at any time without warning.
   Only for development or testing purpose, do not use in production.
   `More details on development status <https://odoo-community.org/page/development-status>`_

**Table of contents**

.. contents::
   :local:

Usage
=====

โมดูลนี้ตั้งอยู่บนสมมติฐานที่ว่า รู้เลขประจำตัวผู้เสียภาษี 13 หลักของลูกค้าอยู่แล้ว และต้องการให้ระบบหาและกรอกที่อยู่ให้อัตโนมัติ.

* ไปหน้า Contacts และสร้างลูกค้าใหม่. 
* ไม่ต้องการชื่อบริษัท กรอกเลขประจำตัวผู้เสียภาษี 13 หลักที่ช่อง Tax ID

.. figure:: https://raw.githubusercontent.com/poonlap/odoo-th/14.0/th_address_vat/static/description/input_tin.png
    :alt: Input Tax Indentification Number, VAT
    :width: 80 %
    :align: center

* กดคีย์บอร์ด `Tab` หรือคลิกไปที่ช่องข้อมูลอื่น. ระบบจะติดต่อกับเว็บเซอร์วิสของกรมสรรพกร เช็คเลขประจำตัวผู้เสียภาษีว่ามีอยู่จริงหรือไม่.
* ถ้าเลขประจำตัวผู้เสียภาษีถูกต้อง โมดูลนี้จะใส่ ชื่อบริษัทและที่อยู่ที่ได้จากเว็บเซอร์วิสของกรมสรรพากรให้ตามช่องข้อมูลที่เหมาะสมอัตโนมัติ 

.. figure:: https://raw.githubusercontent.com/poonlap/odoo-th/14.0/th_address_vat/static/description/autofill_sample.png
   :alt: Auto-fill result
   :width: 80 %
   :align: center

* โมดูลนี้จะกรอกข้อมูลเป็นสำนักงานใหญ่ เลขสาขา 00000 เป็นค่าเริ่มต้น.
* กรณีที่บริษัทมีหลายสาขา สาขาหาที่อยู่ของสาขาอื่นๆได้โดยเปลี่ยนเลขสาขาในช่องสาขา แล้วกดคีย์ `Tab`

.. figure:: https://raw.githubusercontent.com/poonlap/odoo-th/14.0/th_address_vat/static/description/main_branch.png
   :alt: Main branch
   :width: 80 %
   :align: center

.. figure:: https://raw.githubusercontent.com/poonlap/odoo-th/14.0/th_address_vat/static/description/another_branch.png
   :alt: Another branch
   :width: 80 %
   :align: center

* แจ้งเตือนกรณีเลขประจำตัวผู้เสียภาษีไม่ถูกต้อง

.. figure:: https://raw.githubusercontent.com/poonlap/odoo-th/14.0/th_address_vat/static/description/tin_validation.png
   :alt: Validate TIN
   :width: 80 %
   :align: center

* แจ้งเตือนกรณีเลขที่สาขาไม่ถูกต้อง หรือไม่มีเลขที่สาขานั้นๆ

.. figure:: https://raw.githubusercontent.com/poonlap/odoo-th/14.0/th_address_vat/static/description/branch_validation.png
   :alt: Validate Branch
   :width: 80 %
   :align: center

* แจ้งเตือนกรณีเลขที่สาขาไม่ใช่ตัวเลขหรือเลขไม่ครบ 5 หลัก

.. figure:: https://raw.githubusercontent.com/poonlap/odoo-th/14.0/th_address_vat/static/description/branch_format.png
   :alt: Verify Branch number format
   :width: 80 %
   :align: center

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/poonlap/odoo-th/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/poonlap/odoo-th/issues/new?body=module:%20th_address_vat%0Aversion:%2014.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Poonlap V.

Other credits
~~~~~~~~~~~~~

* `ดึงข้อมูลผู้เสียภาษี จากเลขประจำตัวผู้เสียภาษี จาก WebService ของกรมสรรพากร ด้วย Python Zeep <https://medium.com/@mchayapol/ดึงข้อมูลผู้เสียภาษี จากเลขประจำตัวผู้เสียภาษี จาก WebService ของกรมสรรพากร ด้วย Python Zeep-9048c1ae3252>`_
* `เว็บเซอร์วิสของกรมสรรพากร <http://www.rd.go.th/publish/42546.0.html>`_

Maintainers
~~~~~~~~~~~

.. |maintainer-poonlap| image:: https://github.com/poonlap.png?size=40px
    :target: https://github.com/poonlap
    :alt: poonlap

Current maintainer:

|maintainer-poonlap| 

This module is part of the `poonlap/odoo-th <https://github.com/poonlap/odoo-th/tree/14.0/th_address_vat>`_ project on GitHub.

You are welcome to contribute.
